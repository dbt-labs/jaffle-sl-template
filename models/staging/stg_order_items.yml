models:
  - name: stg_order_items
    description: Individual food and drink items that make up our orders, one row per item.
    columns:
      - name: order_item_id
        description: The unique key for each order item.
        tests:
          - not_null
          - unique
      - name: order_id
      - name: product_id

semantic_models:
  - name: stg_order_items
    defaults:
      agg_time_dimension: ordered_at
    description: |
      Items contatined in each order. The grain of the table is one row per order item.
    model: ref('stg_order_items')
    entities:
      - name: order_item
        type: primary
        expr: order_item_id
      - name: order_id
        type: foreign
        expr: order_id
      - name: product
        type: foreign
        expr: product_id
